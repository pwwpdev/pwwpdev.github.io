<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Input Alert Example</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      input {
        padding: 10px;
        margin-right: 10px;
      }
      button {
        padding: 10px;
      }
    </style>
    <script src="https://app.smplrspace.com/lib/smplr.js"></script>
    <link href="https://app.smplrspace.com/lib/smplr.css" rel="stylesheet" />
  </head>
  <body>
    <!-- <h1>1st Floor Book</h1>
    <input type="text" id="userInput" placeholder="Enter some text" />
    <button id="alertButton" onclick="alert_input()">Locate</button>
    <br />
    <br /> -->
    <div id="wrapper">
      <div class="smplr-wrapper">
        <div id="test" class="smplr-embed"></div>
      </div>
    </div>
    <script>
      const API_ENDPOINT = "https://optimusc.flowfuse.cloud/map-2";
      const CLIENT_ID = "pub_45cf413215bd43f79621e0b28f8a815b";
      const SPACE_ID = "spc_v2qssnrl";

      const space = new smplr.Space({
        spaceId: SPACE_ID,
        clientToken: CLIENT_ID,
        containerId: "test",
      });

      const book_shelves_raw = [
      {
        "id": "fe04fc34-f554-4861-9a1f-f2e54c98c063",
        "name": "3A01",
        "furnitureId": "807f23df-e6b6-4c6b-9b30-196b73585e09",
        "layerType": "furniture"
      },
      {
        "id": "59967c16-259c-4198-9c04-b701ebe0b356",
        "name": "3A02",
        "furnitureId": "626b7c26-b157-449e-b276-a8e5d5242749",
        "layerType": "furniture"
      },
      {
        "id": "8e70082d-44b9-42a1-b7fd-2aaaabd695ed",
        "name": "3A03",
        "furnitureId": "2866de7d-2ef5-4339-b24c-19b27a8c4138",
        "layerType": "furniture"
      },
      {
        "id": "274bcb0c-760a-4947-8025-305029c694c7",
        "name": "3A04",
        "furnitureId": "270149b1-259e-45fb-803f-4e957e0c132e",
        "layerType": "furniture"
      },
      {
        "id": "69b636c1-9708-408f-9c17-b3c8903ac95c",
        "name": "3A05",
        "furnitureId": "e26dcfff-ed74-45bb-95c6-caad5d635844",
        "layerType": "furniture"
      },
      {
        "id": "d32465fb-92ad-4c4d-95c6-920f4b576f05",
        "name": "3A06",
        "furnitureId": "675aaad8-cca8-4389-a96d-45d4c6c247c1",
        "layerType": "furniture"
      },
      {
        "id": "ba47f2fb-1acb-4b25-ab59-e96300bc7732",
        "name": "3A07",
        "furnitureId": "675e26e1-062a-49ee-9b9e-532a23f22720",
        "layerType": "furniture"
      },
      {
        "id": "3bd400c1-6918-450b-8aec-b7f689671bf8",
        "name": "3A08",
        "furnitureId": "f0a50109-af97-4071-bd77-377af38c2b13",
        "layerType": "furniture"
      },
      {
        "id": "067fc4cd-9a13-4f36-a1af-5116d60dd5a8",
        "name": "3A09",
        "furnitureId": "d50a7315-694f-436a-8180-395e5b253920",
        "layerType": "furniture"
      },
      {
        "id": "91766133-de13-45be-8971-5cb7e66085b1",
        "name": "3A10",
        "furnitureId": "47a0ef2a-2778-4804-b67a-166303b228bd",
        "layerType": "furniture"
      },
      {
        "id": "946978fb-4ee1-4d04-a315-d940636cb262",
        "name": "3A11",
        "furnitureId": "0c2c87a4-14e3-4e4d-a143-0b454663dbfa",
        "layerType": "furniture"
      },
      {
        "id": "e86adf14-6bb0-43c4-b1a5-5e3bfebb4e97",
        "name": "3A12",
        "furnitureId": "f21b514c-810b-494e-b291-b2b12996e7be",
        "layerType": "furniture"
      },
      {
        "id": "e9be8865-618f-4b3e-848a-d38668249532",
        "name": "3A13",
        "furnitureId": "00e6d7a9-6d04-4a9b-95c2-641d846597d8",
        "layerType": "furniture"
      },
      {
        "id": "c6ddcd31-2891-46cd-afcd-b070277cfc5d",
        "name": "3A14",
        "furnitureId": "442df79a-1bbd-444b-9eed-660d8d3eb9cb",
        "layerType": "furniture"
      },
      {
        "id": "2b49e728-2304-42a2-83db-f62986205489",
        "name": "3A15",
        "furnitureId": "3b97508f-93a7-4be5-8656-7f50ea907d64",
        "layerType": "furniture"
      },
      {
        "id": "34b30c56-8f38-4d4b-adc0-3ddf7a43dc3a",
        "name": "3A16",
        "furnitureId": "150d8a32-9b0c-41ce-b940-2c3f9c238c81",
        "layerType": "furniture"
      },
      {
        "id": "d3a8e6af-795d-4e64-a8e2-d4226aca9981",
        "name": "3A17",
        "furnitureId": "8af3e625-463f-484c-8815-60f5e2c7d296",
        "layerType": "furniture"
      },
      {
        "id": "00f83069-a817-4b60-91df-911c5b1322d9",
        "name": "3B01",
        "furnitureId": "f8b76780-61bd-441a-ab18-a1986b556847",
        "layerType": "furniture"
      },
      {
        "id": "8653f674-07ac-4670-9e49-dcfff6f82382",
        "name": "3B02",
        "furnitureId": "5c330546-c0fe-458b-a123-3ee70ecbdc67",
        "layerType": "furniture"
      },
      {
        "id": "7a0b30d0-719d-4464-95e0-5f7196610871",
        "name": "3B03",
        "furnitureId": "3de9120a-dad6-40ae-b235-581b6445f462",
        "layerType": "furniture"
      },
      {
        "id": "90e86731-a99b-4962-b484-a5de29996f8c",
        "name": "3B04",
        "furnitureId": "282db199-d2ef-4ce1-82e4-03ecba500a86",
        "layerType": "furniture"
      },
      {
        "id": "284d728a-6112-4e57-9d1f-e42901a14c99",
        "name": "3B05",
        "furnitureId": "67c6ddf7-c365-4d99-ae13-70a7d87e651c",
        "layerType": "furniture"
      },
      {
        "id": "692511c0-ecfe-44f5-a130-87a6baf92dad",
        "name": "3B06",
        "furnitureId": "79b19978-ab2d-4774-a864-1ff39f550bf3",
        "layerType": "furniture"
      },
      {
        "id": "3b1ef98a-0fb9-4954-a7e9-a3ec69565463",
        "name": "3B07",
        "furnitureId": "a6cc7a0f-ab38-4bfb-927e-9cebfa69aee6",
        "layerType": "furniture"
      },
      {
        "id": "2ee349b3-5dab-4b78-9bf2-a678fc67a672",
        "name": "3B08",
        "furnitureId": "5d1ba20a-461e-4e5d-8400-95e9d42cb840",
        "layerType": "furniture"
      },
      {
        "id": "f25993bc-303a-4454-b892-b5d2d8dd80e6",
        "name": "3B09",
        "furnitureId": "8fee0771-7124-4c0f-9799-c46edd3f992e",
        "layerType": "furniture"
      },
      {
        "id": "82309b8b-b656-40d3-acce-dd6b52644d3a",
        "name": "3B10",
        "furnitureId": "e526474a-e45a-4ab6-b8ce-58cc9f2dc739",
        "layerType": "furniture"
      },
      {
        "id": "853835e8-cb5c-43d5-b551-f8dc5729f09b",
        "name": "3B11",
        "furnitureId": "6c93aab3-3a54-4ecf-b142-5a267da9f7c9",
        "layerType": "furniture"
      },
      {
        "id": "a04eebcf-2df6-4ebb-82bf-8bf3dc4623f1",
        "name": "3B12",
        "furnitureId": "f8b285e2-133c-4191-87d8-55a44328a6bd",
        "layerType": "furniture"
      },
      {
        "id": "6c47dc95-6a99-48d1-90d2-4a1a4b232044",
        "name": "3B13",
        "furnitureId": "fb0d717f-cd41-4f7b-a335-c3ba85802fc6",
        "layerType": "furniture"
      },
      {
        "id": "8ee440ea-d682-4efa-b5e2-1e3fb828b60a",
        "name": "3B14",
        "furnitureId": "4030c3e1-bd40-465b-99bd-1c9c2f377f6d",
        "layerType": "furniture"
      },
      {
        "id": "f21fe107-b880-4a59-935e-396898afc7c7",
        "name": "3B15",
        "furnitureId": "7b88e82e-f313-46a8-a86a-edc6744068d2",
        "layerType": "furniture"
      },
      {
        "id": "9f449153-8233-4bd9-b68f-3be79f889af8",
        "name": "3C01",
        "furnitureId": "a73f568a-f307-4635-a4b0-4639b24a8b3e",
        "layerType": "furniture"
      },
      {
        "id": "6b69d588-299c-4647-998d-5a7a80003402",
        "name": "3C02",
        "furnitureId": "67a47211-611f-46db-8a59-240db7de2798",
        "layerType": "furniture"
      },
      {
        "id": "12bf5ca3-d738-4517-9fd0-39d4123e4a66",
        "name": "3C03",
        "furnitureId": "a3b108ea-395f-4bd5-be2a-0fa20c343b47",
        "layerType": "furniture"
      },
      {
        "id": "c8b08102-f2e0-4303-bee1-85db07199a48",
        "name": "3C04",
        "furnitureId": "fac74240-8163-49e9-9c14-fd8be7eef47e",
        "layerType": "furniture"
      },
      {
        "id": "4f6761d8-2880-4e4b-8d91-c66b1f75bf6e",
        "name": "3C05",
        "furnitureId": "3e3054af-c899-49cf-98f0-d15a354aedc2",
        "layerType": "furniture"
      },
      {
        "id": "579a4332-19c8-44b9-bfa8-f4fe8e22cc20",
        "name": "3C06",
        "furnitureId": "18e6eaca-170e-4333-8e7f-1a902c652e72",
        "layerType": "furniture"
      },
      {
        "id": "7cb936f3-6fd3-47e0-849f-962101c18e07",
        "name": "3C07",
        "furnitureId": "31542a32-15bd-4df1-b9fa-a59382db2f1a",
        "layerType": "furniture"
      },
      {
        "id": "454794d8-9542-45b8-9fe1-e45f3a278ed6",
        "name": "3C08",
        "furnitureId": "4cadb6c8-e3e4-4e07-92fc-50ddee12dde8",
        "layerType": "furniture"
      },
      {
        "id": "de2d205d-8ccb-45c3-9661-9f03f7593b09",
        "name": "3C09",
        "furnitureId": "e4e8bb82-86e0-485c-9198-f91de9ab7b6d",
        "layerType": "furniture"
      },
      {
        "id": "38478d50-1dc1-4640-b88c-226c9693949d",
        "name": "3C10",
        "furnitureId": "9a01331c-c9a3-4658-a593-b3494bc9dbe5",
        "layerType": "furniture"
      },
      {
        "id": "d00984f6-9bbf-4465-958f-ac05533bab02",
        "name": "3C11",
        "furnitureId": "898cc33f-e214-4669-8300-5d1b051e43d3",
        "layerType": "furniture"
      },
      {
        "id": "d30f46ef-e2e2-4810-9b14-de363bca6f74",
        "name": "3C12",
        "furnitureId": "ccfff782-7f97-4915-bafe-a86bda5f5bb0",
        "layerType": "furniture"
      },
      {
        "id": "fe462087-e81e-4d80-a2c9-9db751663276",
        "name": "3C13",
        "furnitureId": "bb02cd5a-ec12-48d7-b18d-d227b1f7950d",
        "layerType": "furniture"
      },
      {
        "id": "f5e696b2-b441-4f0f-b44c-7274333f8dcc",
        "name": "3C14",
        "furnitureId": "87bf75dd-b69e-4ac1-8eb7-0a4e6a7acc70",
        "layerType": "furniture"
      },
      {
        "id": "8789d178-f69d-4271-addf-7c854f800fd0",
        "name": "3C15",
        "furnitureId": "8c6537bc-f267-4b40-ad00-d9a649ed26c2",
        "layerType": "furniture"
      },
      {
        "id": "2ca2594c-5f14-4b6d-b977-3fba34616c6f",
        "name": "3C16",
        "furnitureId": "a8356fa8-dd3e-4525-945a-3ca3e9b4ca14",
        "layerType": "furniture"
      },
      {
        "id": "9dfbf363-419a-4457-97da-6b9346298c34",
        "name": "3C17",
        "furnitureId": "2b99c485-a79c-4808-828e-bd2d803a5778",
        "layerType": "furniture"
      },
      {
        "id": "8b12e802-85f9-4f9a-a320-a4380a99f1c8",
        "name": "3C18",
        "furnitureId": "341627de-58a7-4885-a677-2577abb39284",
        "layerType": "furniture"
      },
      {
        "id": "06ed64e7-6a80-4734-bec1-24c1c0001dc3",
        "name": "3C19",
        "furnitureId": "69307403-04f9-43ce-886e-0db62d759d08",
        "layerType": "furniture"
      },
      {
        "id": "889f538a-be89-476a-8da1-c88c0a4a6649",
        "name": "3C20",
        "furnitureId": "3fc432a3-e237-4180-8fb9-2c97bfbcca7f",
        "layerType": "furniture"
      },
      {
        "id": "d99e0b3a-6470-4108-a950-735635ccb519",
        "name": "3C21",
        "furnitureId": "1129d946-8d62-4bf2-9c2b-736bf8dbe82b",
        "layerType": "furniture"
      },
      {
        "id": "e4f5ede0-bc2f-45d0-bccc-f57aef42c8b3",
        "name": "3C22",
        "furnitureId": "24ec6c08-9bb8-4c3d-a2c8-1f4ed953abfa",
        "layerType": "furniture"
      },
      {
        "id": "0547fb80-de85-4c94-ba41-8b26d18a1377",
        "name": "3C23",
        "furnitureId": "a73f52fc-7a30-4107-90e0-67b3947a1a0c",
        "layerType": "furniture"
      },
      {
        "id": "4cc0731a-25b0-40ec-82c2-de2ca61d3c3d",
        "name": "3C24",
        "furnitureId": "e4b18f05-f2f7-4e5f-be0a-e51c8bb8b3d8",
        "layerType": "furniture"
      },
      {
        "id": "5989a219-a23d-45e3-a84f-f7cc9c094b44",
        "name": "3C25",
        "furnitureId": "c099ee28-0470-46c9-bcc4-7e559b63b705",
        "layerType": "furniture"
      },
      {
        "id": "1c4762b2-b328-43a6-8b5f-e32506b2f339",
        "name": "3C26",
        "furnitureId": "ecbc3d8c-55cb-40b7-ac5b-ad14c48b1621",
        "layerType": "furniture"
      },
      {
        "id": "2e2a81c1-47ab-498a-b281-c86acdb2e1eb",
        "name": "3C27",
        "furnitureId": "857c83b1-0810-4425-ba99-7a35407acc09",
        "layerType": "furniture"
      },
      {
        "id": "b048020b-af9e-45bc-982d-6ed54d5298d2",
        "name": "3C28",
        "furnitureId": "a889f748-7af5-470d-ba89-163a1c1e435e",
        "layerType": "furniture"
      },
      {
        "id": "bed87868-64eb-4467-9806-9de5f87434f9",
        "name": "3C29",
        "furnitureId": "e3d551c7-e223-4828-ae6a-a772eb5775cc",
        "layerType": "furniture"
      },
      {
        "id": "b7f1642a-1a4e-4223-a956-8a40919c3721",
        "name": "3C30",
        "furnitureId": "d26af154-fb25-461a-bdd1-1293aa42419a",
        "layerType": "furniture"
      },
      {
        "id": "49704f54-2e72-4f7d-9652-ed76235f1f77",
        "name": "3C31",
        "furnitureId": "9e7e0f08-8610-47cb-90aa-533a1f16bf0b",
        "layerType": "furniture"
      },
      {
        "id": "b08cc0b0-75f4-45cc-a2a1-7739a52e20b5",
        "name": "3C32",
        "furnitureId": "1b027147-b21a-45f0-a720-008d20735a09",
        "layerType": "furniture"
      },
      {
        "id": "801d3317-d514-4fe9-aa9c-a3c75d58a292",
        "name": "3C33",
        "furnitureId": "4a66b455-6ac7-46e4-823d-d687716afd2e",
        "layerType": "furniture"
      },
      {
        "id": "d4430bee-8f5f-4e89-8e0b-1cae3c072258",
        "name": "3C34",
        "furnitureId": "f51fed97-b821-4e66-96f0-156255ee8cf9",
        "layerType": "furniture"
      },
      {
        "id": "df1112a3-8a86-48c0-bb7b-e56e110b9098",
        "name": "3C35",
        "furnitureId": "72d8a06c-740b-474d-b572-e25f9f81cad4",
        "layerType": "furniture"
      },
      {
        "id": "fde69fcb-44e7-4628-bab7-f62b5a4a8b9b",
        "name": "3C36",
        "furnitureId": "ba1c506e-df1f-48a6-a2a9-93b4d932e5f4",
        "layerType": "furniture"
      },
      {
        "id": "8b2ded1e-fe0c-47fb-9982-853fe010875e",
        "name": "3C37",
        "furnitureId": "95c21b01-3afd-403f-8a2b-2860f1d6afe4",
        "layerType": "furniture"
      },
      {
        "id": "d6b9a883-f520-462e-8907-e6c026cb6a12",
        "name": "3C38",
        "furnitureId": "09591e4c-092e-4e49-8385-ad61b3d32ebf",
        "layerType": "furniture"
      },
      {
        "id": "62358261-07b0-430e-b0c1-51cc892657d1",
        "name": "3C39",
        "furnitureId": "59e96d23-8e12-41c6-96d2-ee99dc82b738",
        "layerType": "furniture"
      },
      {
        "id": "881b06d9-cb18-46d4-a1e8-8d53ec6d4305",
        "name": "3C40",
        "furnitureId": "39d0e8fb-d27b-4687-a09c-417ed1705142",
        "layerType": "furniture"
      },
      {
        "id": "b52a5a09-2e92-4c6b-b933-7cb797c2b852",
        "name": "3C41",
        "furnitureId": "0a2f9bec-1faf-41cc-985a-f0eb8f09024e",
        "layerType": "furniture"
      },
      {
        "id": "ee4c326d-0062-4d95-bfc7-7791dbaf43b1",
        "name": "3C42",
        "furnitureId": "0d6e5063-8ae0-411a-86ec-879ccbded9c0",
        "layerType": "furniture"
      },
      {
        "id": "6df65fe0-742d-41c6-b513-adf47dd5ff55",
        "name": "3C43",
        "furnitureId": "c2777c26-ce72-4562-9ffa-fa5ab399ddcd",
        "layerType": "furniture"
      },
      {
        "id": "7a4d1b3c-63cd-4708-94a2-c7bad47572c1",
        "name": "3C44",
        "furnitureId": "d9470431-a218-42da-b665-b19cf3f800c4",
        "layerType": "furniture"
      },
      {
        "id": "a6eb22e3-b416-4865-a2f7-9ccdeb8abcb2",
        "name": "3C45",
        "furnitureId": "e88f2062-191f-4daf-b0a4-e3f690c120ac",
        "layerType": "furniture"
      },
      {
        "id": "d0abac66-538f-4165-9d1c-88c3af92a5de",
        "name": "3C46",
        "furnitureId": "5c1cf349-c95b-41ce-a563-de0e96ca22c1",
        "layerType": "furniture"
      },
      {
        "id": "7b286101-ad63-4c77-8b82-c443abbef7fa",
        "name": "3C47",
        "furnitureId": "842b8d63-2c33-42c3-9507-3b8653578526",
        "layerType": "furniture"
      },
      {
        "id": "fe9d6f67-7978-4750-a29a-39cf7e216d72",
        "name": "3C48",
        "furnitureId": "ea961f6c-e504-4354-8208-8a9b8858d9f1",
        "layerType": "furniture"
      },
      {
        "id": "515d77e3-380a-4674-b96f-0465ded9c704",
        "name": "3C49",
        "furnitureId": "3ddd6c65-1a4e-4e97-98f9-f27cdb53a08c",
        "layerType": "furniture"
      },
      {
        "id": "b32af43f-1e31-4ce9-9a38-3912e9d9d712",
        "name": "3C50",
        "furnitureId": "e2bac40e-92ef-4b3b-bb54-69fc8e6f362e",
        "layerType": "furniture"
      },
      {
        "id": "478e4b49-2454-4ec5-92ad-5a1712d99d07",
        "name": "3C51",
        "furnitureId": "6d073eee-4b3f-4814-823b-7dacfb873669",
        "layerType": "furniture"
      },
      {
        "id": "b3c75c3a-6ae0-4b8d-93a8-05a78c18ff9e",
        "name": "3C52",
        "furnitureId": "ee522278-69e8-4040-a169-1c433763897b",
        "layerType": "furniture"
      },
      {
        "id": "d6299e6f-e20c-4b2e-88d2-cdcb7481fc0c",
        "name": "3C53-1",
        "furnitureId": "eef9c847-408d-49f6-bcf3-4749ad6a8ff6",
        "layerType": "furniture"
      },
      {
        "id": "bf91854c-ffff-49d6-884c-b78b57336634",
        "name": "3C53-2",
        "furnitureId": "1923a5c0-863f-4632-af00-083fc7674348",
        "layerType": "furniture"
      },
      {
        "id": "6d95c106-8b7d-48d7-82e6-ffa1491778d8",
        "name": "3C54",
        "furnitureId": "b24f0a7f-b0db-4371-a58a-e8c28ab1f7e7",
        "layerType": "furniture"
      },
      {
        "id": "a686e6be-27c6-490e-afc2-fec7fb473558",
        "name": "3C55",
        "furnitureId": "8a7143af-c58f-4d37-adfb-a2e05a554d93",
        "layerType": "furniture"
      },
      {
        "id": "f2e72de7-9855-4640-b650-41aaad9de20b",
        "name": "3C56",
        "furnitureId": "65ce83b9-ade6-4a5e-9279-0c0d43bd0f7f",
        "layerType": "furniture"
      },
      {
        "id": "d4a07f05-1324-40fd-8317-dccef275958e",
        "name": "3C57",
        "furnitureId": "d80d65e2-2b9b-4e9d-8929-5f6408d93a4e",
        "layerType": "furniture"
      },
      {
        "id": "fd609170-ada9-4bfc-a8d1-652505caaea8",
        "name": "3C58",
        "furnitureId": "5adaf706-52b0-47c4-9af1-49e84487e605",
        "layerType": "furniture"
      },
      {
        "id": "1da5e90d-57e1-430b-8ea9-f719fa15634b",
        "name": "3C59-1",
        "furnitureId": "6dc55070-f21e-41c3-9c11-48ea3e21a128",
        "layerType": "furniture"
      },
      {
        "id": "ad62bede-2a93-4981-959d-a351f2bac5cd",
        "name": "3C59-2",
        "furnitureId": "108afbb5-490f-4867-a94b-b4151ceb0fea",
        "layerType": "furniture"
      },
      {
        "id": "7c088802-0ad9-4df2-b249-51a6aab8c602",
        "name": "3C60",
        "furnitureId": "7c186142-751c-44ed-8c68-51dae1d9ed33",
        "layerType": "furniture"
      },
      {
        "id": "e4e28b18-bc57-41eb-8f0e-feb5d91d5888",
        "name": "3C61",
        "furnitureId": "dfa1b4b2-4dc1-4c39-9c4d-cad732b35f7f",
        "layerType": "furniture"
      },
      {
        "id": "94455efb-5e80-4ced-8c54-2be4d423ad8f",
        "name": "3C62",
        "furnitureId": "9404543b-de1b-436e-9c09-bd2a24df2b7f",
        "layerType": "furniture"
      },
      {
        "id": "26b42db0-7e00-4f87-aa30-59cd410ada23",
        "name": "3C63",
        "furnitureId": "4240dfc4-e81f-413a-821c-04aeef463ba3",
        "layerType": "furniture"
      },
      {
        "id": "21cef959-f278-4afd-aa04-4e8ed3ed180c",
        "name": "3C64",
        "furnitureId": "5ece5304-f84f-4088-938d-e2486ed788cd",
        "layerType": "furniture"
      }
    ];

      let book_shelves = {};

      for (let i = 0; i < book_shelves_raw.length; i++) {
        let name = book_shelves_raw[i]["name"];
        book_shelves[name] = book_shelves_raw[i];
      }

      function getQueryParameter(param) {
        // Get the current URL
        const url = new URL(window.location.href);

        // Use URLSearchParams to get the value of the specified parameter
        const value = url.searchParams.get(param);

        return value;
      }

      async function alert_input() {
        // Example usage
        const paramName = "callNumber"; // Replace with your query parameter name
        const inputText = getQueryParameter(paramName);
        // Get the value from the input field
        //        var inputText = document.getElementById("userInput").value;
        // Show the input text in an alert
        let display = [];
        await fetch(`${API_ENDPOINT}?locationCode=3f&callNumber=${inputText}`)
          .then((d) => {
            return d.json();
          })
          .then((data) => {
            try {
              for (let i = 0; i < data.length; i++) {
                if (data[i] in book_shelves) {
                  display.push(book_shelves[data[i]]);
                }
              }
              for (let i = 0; i < 2; i++) {
                if (data.length > 0) {
                  document.getElementById("wrapper").style.display = "block";

                  if (data[0].startsWith("1FN")) {
                    space.setCameraPlacement({
                      alpha: -4.7267296580715765,
                      beta: 0.6382428340579139,
                      radius: 32.421042896849265,
                      target: {
                        x: 31.3579622603224,
                        y: 3,
                        z: -38.0152734222641,
                      },
                      animated: true,
                    });
                  } else if (data[0].startsWith("1FC")) {
                    space.setCameraPlacement({
                      alpha: -4.703992296083447,
                      beta: 0.5084628431956129,
                      radius: 17.490514084085667,
                      target: {
                        x: 71.3579622603224,
                        y: 3,
                        z: -52.0152734222641,
                      },
                      animated: true,
                    });
                  } else if (data[0].startsWith("1FS")) {
                    space.setCameraPlacement({
                      alpha: -1.566476489307028,
                      beta: 0.569109451364136,
                      radius: 44.66302138247244,
                      target: {
                        x: 110.3579622603224,
                        y: 3,
                        z: -42.0152734222641,
                      },
                      animated: false,
                    });
                  }
                } else {
                  document.getElementById("wrapper").style.display = "none";
                  space.setCameraPlacement({
                    alpha: -1.5707963267948966,
                    beta: 0.7853981633974483,
                    radius: 76.60970531509193,
                    target: { x: 71.3579622603224, y: 3, z: -48.0152734222641 },
                    animated: true,
                  });
                }
              }

              space.removeDataLayer("bookshelves");

              space.addDataLayer({
                id: "bookshelves",
                type: "furniture",
                data: display,
                tooltip: (d) => `${d.name}`,
                color: (d) => "#50b268",
              });
            } catch (error) {
              console.log(error);
            }
          })
          .catch((error) => {
            // Handle any errors
            console.error(
              "There was a problem with the fetch operation:",
              error
            );
          });
      }

      space.startViewer({
        preview: false,
        allowModeChange: true,
        onReady: () => {
          alert_input();
        },
        onError: (error) => console.error("Could not start viewer", error),
      });
    </script>
  </body>
</html>
