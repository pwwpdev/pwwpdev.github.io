<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Input Alert Example</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      input {
        padding: 10px;
        margin-right: 10px;
      }
      button {
        padding: 10px;
      }
    </style>
    <script src="https://app.smplrspace.com/lib/smplr.js"></script>
    <link href="https://app.smplrspace.com/lib/smplr.css" rel="stylesheet" />
  </head>
  <body>
    <!-- <h1>1st Floor Book</h1>
    <input type="text" id="userInput" placeholder="Enter some text" />
    <button id="alertButton" onclick="alert_input()">Locate</button>
    <br />
    <br /> -->
    <div id="wrapper">
    <div class="smplr-wrapper">
      <div id="test" class="smplr-embed"></div>
    </div>
</div>
    <script>
      const API_ENDPOINT = "https://optimusc.flowfuse.cloud/map-2";
      const CLIENT_ID = "pub_45cf413215bd43f79621e0b28f8a815b";
      const SPACE_ID = "73242c82-a0e9-4c96-8d28-089829ecf3d0";

      const space = new smplr.Space({
        spaceId: SPACE_ID,
        clientToken: CLIENT_ID,
        containerId: "test",
      });



      const book_shelves_raw = [
      {
        "id": "f2620ecb-34f0-4399-bb26-e9cd2ed764c8",
        "name": "1A05",
        "furnitureId": "fa84a8c5-70e6-4ab5-86a0-95c19b643aeb",
        "layerType": "furniture"
      },
      {
        "id": "a6f0b1b5-e3cc-4c12-a047-7cceb05750fd",
        "name": "1A04",
        "furnitureId": "79563d85-798e-4201-bff1-037ecdd6c2c8",
        "layerType": "furniture"
      },
      {
        "id": "2375da06-e8b5-410d-8188-55ed1556b8dd",
        "name": "1A03",
        "furnitureId": "3f336535-1e3d-4701-ab75-2d5fc2cf729c",
        "layerType": "furniture"
      },
      {
        "id": "843aec26-77c3-4de0-a869-48865aecf6ec",
        "name": "1A02",
        "furnitureId": "6627a9ef-53b9-4898-b7dc-c48b99dfafd7",
        "layerType": "furniture"
      },
      {
        "id": "dddda165-0612-4665-a1cf-983c238dbd69",
        "name": "1A01",
        "furnitureId": "61bbaf68-7a53-4dc3-a774-ddd0ea208559",
        "layerType": "furniture"
      },
      {
        "id": "f8061605-1899-4df2-96d1-9fbb0070b8bd",
        "name": "1A06",
        "furnitureId": "1f9c78b3-e3cb-41a0-b086-4a3a4b652df7",
        "layerType": "furniture"
      },
      {
        "id": "5864b741-4392-4673-8ca2-c665f99b18fd",
        "name": "1A07",
        "furnitureId": "9d7291ad-68ad-42e4-89fe-4e519e00ca6e",
        "layerType": "furniture"
      },
      {
        "id": "5c42d80c-a4a9-44f6-ae71-732f00284ba6",
        "name": "1A08",
        "furnitureId": "84ebd0c9-ba81-4fc7-a67d-61039db89252",
        "layerType": "furniture"
      },
      {
        "id": "8e8c1ffd-679b-47c7-95ad-4d4d9b227064",
        "name": "1A09",
        "furnitureId": "c002f402-ea33-4ece-b9e7-b5e5dfdc6ebf",
        "layerType": "furniture"
      },
      {
        "id": "c50f9875-682a-4766-ac60-b005d34e1443",
        "name": "1A10",
        "furnitureId": "42af5dfb-edcf-418c-9710-de7abe5985e3",
        "layerType": "furniture"
      },
      {
        "id": "af4c0096-2bfa-4cf6-ba54-0dea89ff56b4",
        "name": "1A11",
        "furnitureId": "ac8a2596-d9cd-4bee-913f-b6f3334e69bb",
        "layerType": "furniture"
      },
      {
        "id": "95a022c8-fb3a-4838-9b3a-3098e0f9c9b9",
        "name": "1A12",
        "furnitureId": "40822d8b-5fa5-4a21-800f-e7d8ffa62877",
        "layerType": "furniture"
      },
      {
        "id": "81297a59-ea56-44de-bff7-7df87c5a0afe",
        "name": "1A13",
        "furnitureId": "7e56f532-bea1-49b3-a683-3faa8fb91b15",
        "layerType": "furniture"
      },
      {
        "id": "53348ea9-26a1-48b6-9f79-4ce6ef819052",
        "name": "1A14",
        "furnitureId": "317c32df-9186-4ec3-ade5-4308882f77a6",
        "layerType": "furniture"
      },
      {
        "id": "cfba7d5f-b2fd-4022-9932-9bf6872c7084",
        "name": "1A15",
        "furnitureId": "e373386f-170d-4a81-919f-052f7396f216",
        "layerType": "furniture"
      },
      {
        "id": "2ed570db-ae70-4003-824a-c430042dbeee",
        "name": "1A16",
        "furnitureId": "87ece811-7cb4-4210-ac60-1f1211a8a5cf",
        "layerType": "furniture"
      },
      {
        "id": "4d96fd30-1797-4b09-a85d-52e3e2bff8f4",
        "name": "1A17",
        "furnitureId": "71e0494f-8390-4efb-a176-ed655ea33c42",
        "layerType": "furniture"
      },
      {
        "id": "256b9ca9-a470-425f-b0c9-85b8f79e1062",
        "name": "1A18",
        "furnitureId": "6e3da7b5-fcb0-47e7-9307-58e0c869fc4e",
        "layerType": "furniture"
      },
      {
        "id": "9a4cc330-99bc-4b26-a67e-bf0b3b42e529",
        "name": "1A19",
        "furnitureId": "f7e92a58-efbf-4b67-9f5a-f7d429f47fc1",
        "layerType": "furniture"
      },
      {
        "id": "d0c20e00-9e52-4cf6-a83a-d72358ca1ace",
        "name": "1A20",
        "furnitureId": "b3b2bbe5-b97b-41e0-9429-231b4c28283a",
        "layerType": "furniture"
      },
      {
        "id": "9f5076e1-7abb-4334-9236-760316189e51",
        "name": "1A21",
        "furnitureId": "4b06e0bb-54d0-4bd2-89c7-b49268e5bb83",
        "layerType": "furniture"
      },
      {
        "id": "e35af0be-a17e-40b5-9ec7-8ce80e8a2ce2",
        "name": "1A22",
        "furnitureId": "b23e1ac3-0cd0-47d9-9812-af67c7a438d7",
        "layerType": "furniture"
      },
      {
        "id": "ce1d63db-29c4-4909-974f-9424d519a59a",
        "name": "1A23",
        "furnitureId": "85f6eb42-a174-482c-9b9e-a814379eb6b6",
        "layerType": "furniture"
      },
      {
        "id": "f5d3973b-47b8-455d-9d81-327ec6da63d1",
        "name": "1A24",
        "furnitureId": "2bf31adc-db58-4663-9bf3-8377daffa4d9",
        "layerType": "furniture"
      },
      {
        "id": "0a17ceda-ff10-42dc-a46b-2d2925c22cdb",
        "name": "1A25",
        "furnitureId": "b4d7bac1-9ea3-4e9a-a5c4-29833fa1ef7c",
        "layerType": "furniture"
      },
      {
        "id": "d72a1d4c-d603-440f-8d2d-10bf9060fe3b",
        "name": "1A26",
        "furnitureId": "a8d3445a-837d-47ee-ad20-90ca1529d972",
        "layerType": "furniture"
      },
      {
        "id": "eebe6a5e-dfc7-4492-8fb0-39a0b405addf",
        "name": "1A27",
        "furnitureId": "e8779d82-f11a-489e-84ee-d510f642642a",
        "layerType": "furniture"
      },
      {
        "id": "d73c99b7-b43b-43d7-a6ca-2f1c50fd8e8d",
        "name": "1A28",
        "furnitureId": "488bb88f-0894-437a-9dca-12a92d33ec98",
        "layerType": "furniture"
      },
      {
        "id": "f91ed584-35ea-44c1-a129-d49914e8f21c",
        "name": "1A29",
        "furnitureId": "9ed8575b-e163-40f6-803c-b68231d30c20",
        "layerType": "furniture"
      },
      {
        "id": "030893c7-e7f5-4a30-a5b4-23db8233afe2",
        "name": "1A30",
        "furnitureId": "3c16e0a4-8f84-4fb1-85d6-7ca8e8f1e9dd",
        "layerType": "furniture"
      },
      {
        "id": "0924d73e-16a1-4aaa-b1a4-b864b99c464c",
        "name": "1B01-1",
        "furnitureId": "076b262f-2a84-4289-a691-3201bdf8458d",
        "layerType": "furniture"
      },
      {
        "id": "1b293437-6732-4c59-a01a-9c956371f72d",
        "name": "1B01-2",
        "furnitureId": "e3f87e45-aeca-4931-8ecf-42203a35ad90",
        "layerType": "furniture"
      },
      {
        "id": "a91c0693-2372-4188-aae4-170f8f0ec7de",
        "name": "1B01-3",
        "furnitureId": "19f4c425-6bdb-48f1-81be-18d8a9614f7a",
        "layerType": "furniture"
      },
      {
        "id": "9321d7da-8dff-482e-880a-b41dd0a3012b",
        "name": "1B02-1",
        "furnitureId": "24847b3e-2d17-430d-977a-cfccf5e4a129",
        "layerType": "furniture"
      },
      {
        "id": "eebfe393-227a-46a1-bc64-36b006845cc8",
        "name": "1B02-2",
        "furnitureId": "abfadaf3-e0a9-4fdd-8acf-66fc3d784f4a",
        "layerType": "furniture"
      },
      {
        "id": "4534d0ad-264f-4c65-b188-0bccfd1457d0",
        "name": "1B02-3",
        "furnitureId": "8bcea004-56e9-4cf3-a99f-26d01bd098df",
        "layerType": "furniture"
      },
      {
        "id": "e8be8147-482e-4213-8bef-8fb861f9cc62",
        "name": "1B03",
        "furnitureId": "b3a46ae0-5bcf-419d-949f-324db29dae44",
        "layerType": "furniture"
      },
      {
        "id": "15be1531-f8d5-4fd9-9fe0-8b0d40a437be",
        "name": "1B04-1",
        "furnitureId": "6eefa067-3876-4430-89f4-6c9fe0b44f1d",
        "layerType": "furniture"
      },
      {
        "id": "094267e6-0121-4493-9772-a5311852004e",
        "name": "1B04-2",
        "furnitureId": "e2177516-6ce3-48b5-be9c-893e3806d29d",
        "layerType": "furniture"
      },
      {
        "id": "d89c1fbf-c7d9-4e95-a527-a8bd0565d5bd",
        "name": "1B04-3",
        "furnitureId": "ce1bc860-7815-4c1f-be7e-4b0b24cbe4c7",
        "layerType": "furniture"
      },
      {
        "id": "3c450a33-98fd-4b32-b959-f4e771409081",
        "name": "1B05-1",
        "furnitureId": "193b4e0e-b82b-41e4-81a7-771d5bb3f635",
        "layerType": "furniture"
      },
      {
        "id": "125321bc-2b41-4f0d-b7fc-2c54e7b804c9",
        "name": "1B05-2",
        "furnitureId": "13aef216-755b-48e9-84c7-99c9912f96fa",
        "layerType": "furniture"
      },
      {
        "id": "f55f8839-8d65-4cb6-a9fb-792aee6f9cdf",
        "name": "1B05-3",
        "furnitureId": "705f3f36-2641-4ec8-95b9-b4c50ef52c92",
        "layerType": "furniture"
      },
      {
        "id": "03cc3cad-3287-4ba7-9ae8-17e070463104",
        "name": "1B06",
        "furnitureId": "3abd463b-aae0-40d6-a4b8-5f222e26eb96",
        "layerType": "furniture"
      },
      {
        "id": "18af97ea-e1eb-4ad1-a428-e43f27a15d21",
        "name": "1B07",
        "furnitureId": "6a1b367f-294a-4f11-8460-8212be538f76",
        "layerType": "furniture"
      },
      {
        "id": "9fa1c54d-9d65-4ce8-bc90-713a465f3b80",
        "name": "1B08",
        "furnitureId": "dab5939a-b323-46ca-ae79-c6db64738947",
        "layerType": "furniture"
      },
      {
        "id": "3ed1de6f-bfd1-419e-bbbc-80760fe155af",
        "name": "1C01",
        "furnitureId": "043102d7-716c-42df-96e1-d77cb0980adf",
        "layerType": "furniture"
      },
      {
        "id": "37a3a7ad-466b-4d19-bbf1-8cae3c0ec8d2",
        "name": "1C02",
        "furnitureId": "c10d391c-c52e-4b3e-b07c-4e251585c7b0",
        "layerType": "furniture"
      },
      {
        "id": "f6ad21e6-76c9-4fe6-be52-b2a5d0f9ebe4",
        "name": "1C03",
        "furnitureId": "31c73ca7-1285-44e5-b64e-f3a316e52336",
        "layerType": "furniture"
      },
      {
        "id": "9ea19d91-bd30-457c-844e-2a494494447d",
        "name": "1C04",
        "furnitureId": "2361d874-ba80-4f5c-b664-50cf215ddc76",
        "layerType": "furniture"
      },
      {
        "id": "7e7c5e80-950c-4b3e-9515-9ecb18eb8c0b",
        "name": "1C05",
        "furnitureId": "8be85130-6bad-40a2-b663-10831d3bbd41",
        "layerType": "furniture"
      },
      {
        "id": "f47f988d-7444-420f-b19a-027544db6ec1",
        "name": "1C06",
        "furnitureId": "5722c50e-aa91-4863-98e9-fe33906edaee",
        "layerType": "furniture"
      },
      {
        "id": "b3a51f19-2f3d-4f27-8d63-5558c0d69fb8",
        "name": "1C07",
        "furnitureId": "ea3c5ed7-8877-4123-9694-9083fc9d5bb0",
        "layerType": "furniture"
      },
      {
        "id": "e13fa82e-238e-46f1-87dd-74b9fe44f2fa",
        "name": "1C08",
        "furnitureId": "a4094cff-f3ff-41d3-8869-44bb85422eed",
        "layerType": "furniture"
      },
      {
        "id": "20223a1a-ad3b-499c-9775-968b36399141",
        "name": "1C09",
        "furnitureId": "1849be9f-377f-45c1-8ea9-af4ed5ba9d12",
        "layerType": "furniture"
      },
      {
        "id": "072c15b6-3dc2-4256-a2ca-84161c1f970f",
        "name": "1C10",
        "furnitureId": "f7301b2a-71d6-4005-b1a1-f3c7f0e41beb",
        "layerType": "furniture"
      },
      {
        "id": "c7371ff7-9b13-43a1-9be6-22cde785b4b1",
        "name": "1C11",
        "furnitureId": "d589ef64-066b-45d2-92cd-89ee84084972",
        "layerType": "furniture"
      },
      {
        "id": "775c62d2-770b-41a7-87ce-b713de8dc0a7",
        "name": "1C12",
        "furnitureId": "fd69d682-e75f-44c8-809b-f201e4866761",
        "layerType": "furniture"
      },
      {
        "id": "2d51398f-9ade-477e-80ec-d24dcc7bf2f4",
        "name": "1C13",
        "furnitureId": "56c67aec-cd72-4eb2-b2c1-44dedae52809",
        "layerType": "furniture"
      },
      {
        "id": "4639eeb5-16f6-432e-8730-bb2054bee70d",
        "name": "1C14",
        "furnitureId": "a6675890-cca2-45ba-9951-dc7da85a58d2",
        "layerType": "furniture"
      },
      {
        "id": "835d1ed0-4a27-48b9-8f68-956167f9b2b6",
        "name": "1C15",
        "furnitureId": "00dd900e-5c03-43e0-a73b-206cdacdd86b",
        "layerType": "furniture"
      },
      {
        "id": "e0858329-f24f-47d0-b60f-b982e1861a21",
        "name": "1C16",
        "furnitureId": "b57de0a1-cb28-467d-af7f-f0c1c83323fd",
        "layerType": "furniture"
      },
      {
        "id": "55cd093e-94d9-41e2-9d73-95a03a791b8c",
        "name": "1C17",
        "furnitureId": "c561dd47-ddc6-4835-94fc-5dc3b612a9df",
        "layerType": "furniture"
      },
      {
        "id": "13fecd97-b545-49fb-be77-7359cb244b74",
        "name": "1C18",
        "furnitureId": "78809505-9d61-436f-9b3d-0e5a54ef4d3d",
        "layerType": "furniture"
      },
      {
        "id": "7f69a48c-0fb6-48c0-9de3-1ba9e380e52e",
        "name": "1C19",
        "furnitureId": "2705821c-2628-4e47-bcf7-01cfc4fffbe9",
        "layerType": "furniture"
      },
      {
        "id": "112dfdd3-4afb-4464-a583-60c33d76c8ac",
        "name": "1C20",
        "furnitureId": "51dad1b8-8076-4893-bc28-39ca6a6809ec",
        "layerType": "furniture"
      },
      {
        "id": "f3d0944b-4a68-4088-a18f-adc7e2aaf4ec",
        "name": "1C21",
        "furnitureId": "43cc804a-78ae-4b67-acab-191ae7fd504e",
        "layerType": "furniture"
      },
      {
        "id": "c8ac8e52-fe3a-420d-8c28-36b9dabca70b",
        "name": "1C22",
        "furnitureId": "32f30c9e-8761-47d5-bbbe-3abd4ba7968f",
        "layerType": "furniture"
      },
      {
        "id": "7df21afe-5c8c-4c39-9359-4e65934e96c1",
        "name": "1C23",
        "furnitureId": "7349f062-5a07-4223-8982-66f62bfcae26",
        "layerType": "furniture"
      },
      {
        "id": "58c25aca-3131-4bf0-98d1-9dbc3cc531a1",
        "name": "1C24",
        "furnitureId": "355f51e3-aef3-4d6a-860f-4689c0e9caf5",
        "layerType": "furniture"
      },
      {
        "id": "a68df519-bcc3-4bcb-8595-bc310cc9186a",
        "name": "1C25",
        "furnitureId": "183544b1-1a79-4127-8f4c-4ea8ccdfd104",
        "layerType": "furniture"
      },
      {
        "id": "26aa2dc2-9849-4d78-afeb-bbda90bca92b",
        "name": "1C26",
        "furnitureId": "653245fa-1a9a-45a1-83e1-6fbe2799e18d",
        "layerType": "furniture"
      },
      {
        "id": "14726f2c-f3ab-4d5c-a51f-d3a5277070a3",
        "name": "1C27",
        "furnitureId": "b39b58ce-8c08-4d39-8a36-f5adfcbd98cf",
        "layerType": "furniture"
      },
      {
        "id": "d2e4a028-605a-456f-b7f3-ba418cae829a",
        "name": "1C28",
        "furnitureId": "1d35f2b9-779f-461a-a8da-70f785b2107f",
        "layerType": "furniture"
      },
      {
        "id": "ac90d7cf-a5c2-4446-a30d-875dff44520f",
        "name": "1C29",
        "furnitureId": "a85570eb-deca-478c-b8ea-9f362311a04f",
        "layerType": "furniture"
      },
      {
        "id": "72657682-a2f8-46ad-9e1f-64ff07c37173",
        "name": "1C30",
        "furnitureId": "af6a6d7a-b7d6-43f3-82a1-abbe49802384",
        "layerType": "furniture"
      },
      {
        "id": "5c625b2b-055f-4bb5-9aed-28e6e47ee86e",
        "name": "1C31",
        "furnitureId": "42eec98e-baa5-4d21-824f-afbf05187029",
        "layerType": "furniture"
      },
      {
        "id": "6b61fdf5-a898-4739-91bf-4769c35b48f3",
        "name": "1C32",
        "furnitureId": "61d8aeeb-c8e9-4933-b582-106ae2edcf07",
        "layerType": "furniture"
      },
      {
        "id": "db5a263e-33cd-4d05-bd32-d149ae8204ce",
        "name": "1C33",
        "furnitureId": "e3f26405-67f8-4528-a66a-27ac49b05bf8",
        "layerType": "furniture"
      },
      {
        "id": "bdbb3576-647a-4d7a-b391-76506c68cb0a",
        "name": "1C34",
        "furnitureId": "b2826b29-a0b1-4796-a138-eae5c281b42c",
        "layerType": "furniture"
      },
      {
        "id": "8afe14e6-5f85-4438-a26e-78ed4108a889",
        "name": "1C35",
        "furnitureId": "530878dc-5963-48b0-bd41-a49208124fe2",
        "layerType": "furniture"
      },
      {
        "id": "bb6cc54f-6d36-4f2c-b609-f4a1c1dd8f54",
        "name": "1C36",
        "furnitureId": "6f5ceaab-5cd4-4c09-b1ce-9bd0bbc86b54",
        "layerType": "furniture"
      },
      {
        "id": "931d7047-b095-4afc-9d52-4c95bce3577f",
        "name": "1C37",
        "furnitureId": "e620018f-f05d-4f1b-a591-1b653979e8f9",
        "layerType": "furniture"
      },
      {
        "id": "ce84e45b-9a0f-4e37-8bc8-830f1680d1d2",
        "name": "1C38",
        "furnitureId": "e4bcbcf5-f3e5-4233-b222-71b1cd9e18f6",
        "layerType": "furniture"
      },
      {
        "id": "9a7bd49f-24cf-48ba-bf95-560182fef3f4",
        "name": "1C39",
        "furnitureId": "6f252676-ea2b-4fdd-87a1-a09fc7110e0a",
        "layerType": "furniture"
      },
      {
        "id": "65ccc68e-242c-482f-8538-22ea1290db1c",
        "name": "1C40",
        "furnitureId": "b5599f53-a85a-4fef-b4c3-19a332eb6ae9",
        "layerType": "furniture"
      },
      {
        "id": "cc2f2c0e-8ca6-44d0-b517-de43b9cb7671",
        "name": "1C41",
        "furnitureId": "602cbebf-9ab6-43da-82e2-7ba964425a83",
        "layerType": "furniture"
      },
      {
        "id": "a9db2e19-cdc9-44f6-85f9-5f5a26ef11a8",
        "name": "1C42",
        "furnitureId": "9ed9cc7d-e4b4-4e7a-a6b3-87df78052ea5",
        "layerType": "furniture"
      },
      {
        "id": "2029a2a9-fb19-408f-952d-b5fef27c5e4c",
        "name": "1C43",
        "furnitureId": "927433e1-ebe6-4dfd-8e86-37c3f5b3d05c",
        "layerType": "furniture"
      },
      {
        "id": "6615c9e3-0d7b-4ded-a550-7497579af236",
        "name": "1C44",
        "furnitureId": "0ebef673-a758-47a9-93be-e051a65a1afd",
        "layerType": "furniture"
      },
      {
        "id": "dc665dc1-0474-4bd9-980a-4fecf0fa5b9e",
        "name": "1C45",
        "furnitureId": "40302c06-fcf0-453f-8669-2831ad3f79c1",
        "layerType": "furniture"
      },
      {
        "id": "ea38de8e-bead-4c9d-bbef-648da2ac9adb",
        "name": "1C46",
        "furnitureId": "3431deec-c571-489e-a177-8a123dbc879c",
        "layerType": "furniture"
      },
      {
        "id": "22a155f8-317f-4f12-872f-d1b86b84530a",
        "name": "1C47",
        "furnitureId": "53b9744a-4e67-4a46-b3f8-0d5c244469f8",
        "layerType": "furniture"
      },
      {
        "id": "d200f125-163d-4205-9098-295d49feea50",
        "name": "1C48",
        "furnitureId": "ce2da662-8532-4b40-a4ff-6186804a288f",
        "layerType": "furniture"
      },
      {
        "id": "13f831fd-c225-484b-9dd4-8fb95d5a88f9",
        "name": "1C49",
        "furnitureId": "ab00b5f0-a7ca-4685-bd2c-8e9592bd33b8",
        "layerType": "furniture"
      },
      {
        "id": "5d827b84-3f7f-45dd-8111-4ae6fe87091e",
        "name": "1C50",
        "furnitureId": "3bed7c25-72bd-40fc-8dbc-55d98aabbd98",
        "layerType": "furniture"
      },
      {
        "id": "ca959a38-4743-45ae-831a-554c4078df87",
        "name": "1C51",
        "furnitureId": "30f9a31c-e7d0-4494-a1e1-4508f3b61e07",
        "layerType": "furniture"
      }
    ];
    
      let book_shelves = {};

      for (let i = 0; i < book_shelves_raw.length; i++) {
        let name = book_shelves_raw[i]["name"];
        book_shelves[name] = book_shelves_raw[i];
      }

      function getQueryParameter(param) {
        // Get the current URL
        const url = new URL(window.location.href);

        // Use URLSearchParams to get the value of the specified parameter
        const value = url.searchParams.get(param);

        return value;
      }

      async function alert_input() {
        // Example usage
        const paramName = "callNumber"; // Replace with your query parameter name
        const inputText = getQueryParameter(paramName);
        // Get the value from the input field
        //        var inputText = document.getElementById("userInput").value;
        // Show the input text in an alert
        let display = [];
        await fetch(`${API_ENDPOINT}?locationCode=1f&callNumber=${inputText}`)
          .then((d) => {
            return d.json();
          })
          .then((data) => {
            try {
              for (let i = 0; i < data.length; i++) {
                if (data[i] in book_shelves) {
                  display.push(book_shelves[data[i]]);
                }
              }
              for (let i = 0; i < 2; i++) {
                if (data.length > 0) {
                  document.getElementById("wrapper").style.display =
                    "block";

                  if (data[0].startsWith("1FN")) {
                    space.setCameraPlacement({
                      alpha: -4.7267296580715765,
                      beta: 0.6382428340579139,
                      radius: 32.421042896849265,
                      target: {
                        x: 31.3579622603224,
                        y: 3,
                        z: -38.0152734222641,
                      },
                      animated: true,
                    });
                  } else if (data[0].startsWith("1FC")) {
                    space.setCameraPlacement({
                      alpha: -4.703992296083447,
                      beta: 0.5084628431956129,
                      radius: 17.490514084085667,
                      target: {
                        x: 71.3579622603224,
                        y: 3,
                        z: -52.0152734222641,
                      },
                      animated: true,
                    });
                  } else if (data[0].startsWith("1FS")) {
                    space.setCameraPlacement({
                      alpha: -1.566476489307028,
                      beta: 0.569109451364136,
                      radius: 44.66302138247244,
                      target: {
                        x: 110.3579622603224,
                        y: 3,
                        z: -42.0152734222641,
                      },
                      animated: false,
                    });
                  }
                } else {
                  document.getElementById("wrapper").style.display =
                    "none";
                  space.setCameraPlacement({
                    alpha: -1.5707963267948966,
                    beta: 0.7853981633974483,
                    radius: 76.60970531509193,
                    target: { x: 71.3579622603224, y: 3, z: -48.0152734222641 },
                    animated: true,
                  });
                }
              }

              space.removeDataLayer("bookshelves");

              space.addDataLayer({
                id: "bookshelves",
                type: "furniture",
                data: display,
                tooltip: (d) => `${d.name}`,
                color: (d) => "#50b268",
              });
            } catch (error) {
              console.log(error);
            }
          })
          .catch((error) => {
            // Handle any errors
            console.error(
              "There was a problem with the fetch operation:",
              error
            );
          });
      }

      space.startViewer({
        preview: false,
        allowModeChange: true,
        onReady: () => {alert_input()},
        onError: (error) => console.error("Could not start viewer", error),
      });
    </script>
  </body>
</html>
